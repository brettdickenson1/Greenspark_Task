{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  persons: []\n};\nexport const fetchPerson = createAsyncThunk(\"person/fetch\", async thunkAPI => {\n  const response = await fetch(\"https://api.mocki.io/v2/016d11e8/product-widgets\", {\n    method: \"GET\"\n  });\n  const data = response.json();\n  console.log(response, \"RESPONSE HERE YOOO\");\n  return data;\n});\n\n// export const savePerson = createAsyncThunk(\n//   \"person/save\",\n//   async (name: string, thunkAPI) => {\n//     const response = await fetch(\"http://localhost:8000/person\", {\n//       method: \"POST\",\n//       headers: {\n//         \"Content-Type\": \"application/json\",\n//       },\n//       body: JSON.stringify({\n//         name,\n//       }),\n//     });\n//     const data = await response.json();\n//     return data;\n//   }\n// );\n\nexport const PersonSlice = createSlice({\n  name: \"person\",\n  initialState,\n  reducers: {\n    addPerson(state, action) {\n      state.persons.push({\n        selectedColor: action.payload.selectedColor\n      });\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchPerson.fulfilled, (state, action) => {\n      state.persons = action.payload;\n    });\n\n    // builder.addCase(savePerson.fulfilled, (state, action) => {\n    //   state.persons.push(action.payload);\n    // });\n  }\n});\n\nexport default PersonSlice.reducer;\n// export const { addPerson } = PersonSlice.actions;","map":{"version":3,"names":["createAsyncThunk","createSlice","initialState","persons","fetchPerson","thunkAPI","response","fetch","method","data","json","console","log","PersonSlice","name","reducers","addPerson","state","action","push","selectedColor","payload","extraReducers","builder","addCase","fulfilled","reducer"],"sources":["/Users/brettdickenson1/Desktop/WORK/TypeScript/redux-ts/src/store/features/personSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nexport interface Person {\n  id: number;\n  action: string;\n  active: boolean;\n  amount: number;\n  linked: boolean;\n  selectedColor: string;\n  type: string;\n}\n\ninterface PersonState {\n  persons: Person[];\n}\n\nconst initialState: PersonState = {\n  persons: [],\n};\n\nexport const fetchPerson = createAsyncThunk(\n  \"person/fetch\",\n  async (thunkAPI) => {\n    const response = await fetch(\n      \"https://api.mocki.io/v2/016d11e8/product-widgets\",\n      {\n        method: \"GET\",\n      }\n    );\n    const data = response.json();\n    console.log(response, \"RESPONSE HERE YOOO\");\n    return data;\n  }\n);\n\n// export const savePerson = createAsyncThunk(\n//   \"person/save\",\n//   async (name: string, thunkAPI) => {\n//     const response = await fetch(\"http://localhost:8000/person\", {\n//       method: \"POST\",\n//       headers: {\n//         \"Content-Type\": \"application/json\",\n//       },\n//       body: JSON.stringify({\n//         name,\n//       }),\n//     });\n//     const data = await response.json();\n//     return data;\n//   }\n// );\n\nexport const PersonSlice = createSlice({\n  name: \"person\",\n  initialState,\n  reducers: {\n    addPerson(state, action: PayloadAction<{ selectedColor: string }>) {\n      state.persons.push({\n        selectedColor: action.payload.selectedColor,\n      });\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(fetchPerson.fulfilled, (state, action) => {\n      state.persons = action.payload;\n    });\n\n    // builder.addCase(savePerson.fulfilled, (state, action) => {\n    //   state.persons.push(action.payload);\n    // });\n  },\n});\n\nexport default PersonSlice.reducer;\n// export const { addPerson } = PersonSlice.actions;\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAuB,kBAAkB;AAgB/E,MAAMC,YAAyB,GAAG;EAChCC,OAAO,EAAE;AACX,CAAC;AAED,OAAO,MAAMC,WAAW,GAAGJ,gBAAgB,CACzC,cAAc,EACd,MAAOK,QAAQ,IAAK;EAClB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC1B,kDAAkD,EAClD;IACEC,MAAM,EAAE;EACV,CACF,CAAC;EACD,MAAMC,IAAI,GAAGH,QAAQ,CAACI,IAAI,CAAC,CAAC;EAC5BC,OAAO,CAACC,GAAG,CAACN,QAAQ,EAAE,oBAAoB,CAAC;EAC3C,OAAOG,IAAI;AACb,CACF,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMI,WAAW,GAAGZ,WAAW,CAAC;EACrCa,IAAI,EAAE,QAAQ;EACdZ,YAAY;EACZa,QAAQ,EAAE;IACRC,SAASA,CAACC,KAAK,EAAEC,MAAgD,EAAE;MACjED,KAAK,CAACd,OAAO,CAACgB,IAAI,CAAC;QACjBC,aAAa,EAAEF,MAAM,CAACG,OAAO,CAACD;MAChC,CAAC,CAAC;IACJ;EACF,CAAC;EACDE,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CAACC,OAAO,CAACpB,WAAW,CAACqB,SAAS,EAAE,CAACR,KAAK,EAAEC,MAAM,KAAK;MACxDD,KAAK,CAACd,OAAO,GAAGe,MAAM,CAACG,OAAO;IAChC,CAAC,CAAC;;IAEF;IACA;IACA;EACF;AACF,CAAC,CAAC;;AAEF,eAAeR,WAAW,CAACa,OAAO;AAClC"},"metadata":{},"sourceType":"module","externalDependencies":[]}